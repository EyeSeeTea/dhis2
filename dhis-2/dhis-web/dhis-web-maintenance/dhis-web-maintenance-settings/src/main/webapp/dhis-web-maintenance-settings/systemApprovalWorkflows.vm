#sharingDialog()

<script type="text/javascript">
    jQuery(document).ready(function() {
        dhis2.contextmenu.makeContextMenu({
            menuId: 'contextMenu',
            menuItemActiveClass: 'contextMenuItemActive'
        });
    });

    var i18n_confirm_delete_data_approval_workflow = '$encoder.jsEscape( $i18n.getString( "confirm_delete_data_approval_workflow" ) , "'" )';
</script>

<table style="width:75%">
    <tr>
        <td><h3>$i18n.getString( "approval_workflows" ) #openHelp( "systemApprovalWorkflows" )</h3></td>
        <td style="text-align:right"><input type="button" value="$i18n.getString( 'approval_settings' )" onclick="window.location.href='systemApprovalSettings.action'"></td>
    </tr>
</table>

<div id="contextMenu" class="contextMenu">
    <ul id="contextMenuItems" class="contextMenuItems">
        <li><a data-target-fn="editDataApprovalWorkflowForm"><i class="fa fa-edit"></i>&nbsp;&nbsp;$i18n.getString( "edit" )</a></li>
        <li><a data-target-fn="removeApprovalLevel"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;$i18n.getString( "remove" )</a></li>
    </ul>
</div>

<table class="mainPageTable" style="width:75%">
    <tr>
        <td style="vertical-align:top">
            <table width="100%">
                <tr>
                    <td></td>
                    <td style="text-align:right">
                        <input type="button" value="$i18n.getString( 'add_new' )" onclick="window.location.href='showAddApprovalWorkflowForm.action'">
                    </td>
                </tr>
            </table>
            <table class="listTable" id="listTable">
                <col/>
                <col/>
                <col/>
                <col width="120px">
                <thead>
                <tr>
                    <th class="{sorter: true}">$i18n.getString( "name" )</th>
                    <th class="{sorter: false}">$i18n.getString( "approval_levels" )</th>
                </tr>
                </thead>
                <tbody id="list">
                    #foreach( $workflow in $dataApprovalWorkflows )
                    <tr id="tr${workflow.id}" data-id="$!workflow.id" data-uid="$!workflow.uid" data-type="DataApprovalWorkflow" data-name="$encoder.htmlEncode( $!workflow.displayName )">
                        <td>$encoder.htmlEncode( $!workflow.displayName )</td>
                        <td>#foreach ( $level in $workflow.membersSortedByLevel ) $level.level #end</td>
                    </tr>
                    #end
                </tbody>
            </table>
            <p></p>
            #parse( "/dhis-web-commons/paging/paging.vm" )
        </td>
    </tr>
</table>